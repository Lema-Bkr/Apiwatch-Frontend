!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e(t["ng2-drag-and-check"]={},t.ng.core)}(this,function(t,e){"use strict";var n=function(){return function(t,e){this.x=t,this.y=e}}(),i=function(){function t(t,i){this.el=t,this.renderer=i,this.allowDrag=!0,this.moving=!1,this.original=null,this.oldTrans=new n(0,0),this.tempTrans=new n(0,0),this.currentTrans=new n(0,0),this.oldZIndex="",this.oldPosition="",this.started=new e.EventEmitter,this.stopped=new e.EventEmitter,this.edge=new e.EventEmitter,this.allowedOffsets=new o}return Object.defineProperty(t.prototype,"ngDraggable",{set:function(t){if(t!==undefined&&null!==t&&""!==t){this.allowDrag=!!t;var e=this.handle?this.handle:this.el.nativeElement;this.allowDrag?this.renderer.setElementClass(e,"ng-draggable",!0):this.renderer.setElementClass(e,"ng-draggable",!1)}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){if(this.allowDrag){var t=this.handle?this.handle:this.el.nativeElement;this.renderer.setElementClass(t,"ng-draggable",!0)}},t.prototype.getPosition=function(t,e){return new n(t,e)},t.prototype.moveTo=function(t,e){if(this.original){var n=this.el.nativeElement;this.tempTrans.x=t-this.original.x,this.tempTrans.y=e-this.original.y,this.verifyMoveOnX(),this.verifyMoveOnY();var i="translate("+(this.tempTrans.x+this.oldTrans.x)+"px, "+(this.tempTrans.y+this.oldTrans.y)+"px)";this.renderer.setElementStyle(n,"transform",i),this.renderer.setElementStyle(n,"-webkit-transform",i),this.renderer.setElementStyle(n,"-ms-transform",i),this.renderer.setElementStyle(n,"-moz-transform",i),this.renderer.setElementStyle(n,"-o-transform",i),this.edge.emit(this.boundsCheck()),this.currentTrans=this.getPosition(this.tempTrans.x,this.tempTrans.y)}},t.prototype.verifyMoveOnX=function(){var t=this.el.nativeElement.getBoundingClientRect(),e=this.tempTrans.x-this.currentTrans.x,n=this.allowedOffsets.getLeft(this.el.nativeElement,this.handle);null!=n&&e<0&&t.left+e<n&&(this.tempTrans.x=this.currentTrans.x-(t.left-n));var i=this.allowedOffsets.getRight(this.el.nativeElement,this.handle),o=document.documentElement.clientWidth;null!=i&&e>0&&t.right+e>o-i&&(this.tempTrans.x=this.currentTrans.x+(o-i-t.right))},t.prototype.verifyMoveOnY=function(){var t=this.el.nativeElement.getBoundingClientRect(),e=document.documentElement.clientHeight,n=this.tempTrans.y-this.currentTrans.y,i=this.allowedOffsets.getTop(this.el.nativeElement,this.handle);null!=i&&n<0&&t.top+n<i&&(this.tempTrans.y=this.currentTrans.y-(t.top-i));var o=this.allowedOffsets.getBottom(this.el.nativeElement,this.handle);null!=o&&n>0&&t.bottom+n>e-o&&(this.tempTrans.y=this.currentTrans.y+(e-o-t.bottom))},t.prototype.pickUp=function(){this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",this.oldPosition=this.el.nativeElement.style.position?this.el.nativeElement.style.position:"",this.getPosition(0,0),window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index"),this.oldPosition=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("position"));var t="relative";!this.oldPosition||"absolute"!==this.oldPosition&&"fixed"!==this.oldPosition&&"relative"!==this.oldPosition||(t=this.oldPosition),this.renderer.setElementStyle(this.el.nativeElement,"position",t),this.renderer.setElementStyle(this.el.nativeElement,"z-index","99999"),this.moving||(this.started.emit(this.el.nativeElement),this.moving=!0)},t.prototype.boundsCheck=function(){if(!this.bounds)return{top:!1,right:!1,bottom:!1,left:!1};var t=this.bounds.getBoundingClientRect(),e=this.el.nativeElement.getBoundingClientRect();return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}},t.prototype.putBack=function(){this.oldZIndex?this.renderer.setElementStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index"),this.moving&&(this.stopped.emit(this.el.nativeElement),this.edge.emit(this.boundsCheck()),this.moving=!1,this.oldTrans.x+=this.tempTrans.x,this.oldTrans.y+=this.tempTrans.y,this.tempTrans.x=this.tempTrans.y=0)},t.prototype.onMouseDown=function(t){2==t.button||this.handle!==undefined&&t.target!==this.handle||(this.original=this.getPosition(t.clientX,t.clientY),this.pickUp())},t.prototype.onMouseUp=function(){this.putBack()},t.prototype.onMouseLeave=function(){this.putBack()},t.prototype.onMouseMove=function(t){this.moving&&this.allowDrag&&this.moveTo(t.clientX,t.clientY)},t.prototype.onTouchEnd=function(){this.putBack()},t.prototype.onTouchStart=function(t){t.stopPropagation(),t.preventDefault(),this.handle!==undefined&&t.target!==this.handle||(this.original=this.getPosition(t.changedTouches[0].clientX,t.changedTouches[0].clientY),this.pickUp())},t.prototype.onTouchMove=function(t){t.stopPropagation(),t.preventDefault(),this.moving&&this.allowDrag&&this.moveTo(t.changedTouches[0].clientX,t.changedTouches[0].clientY)},t}();i.decorators=[{type:e.Directive,args:[{selector:"[ngDraggable]"}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer}]},i.propDecorators={started:[{type:e.Output}],stopped:[{type:e.Output}],edge:[{type:e.Output}],handle:[{type:e.Input}],bounds:[{type:e.Input}],allowedOffsets:[{type:e.Input}],ngDraggable:[{type:e.Input}],onMouseDown:[{type:e.HostListener,args:["mousedown",["$event"]]}],onMouseUp:[{type:e.HostListener,args:["document:mouseup"]}],onMouseLeave:[{type:e.HostListener,args:["document:mouseleave"]}],onMouseMove:[{type:e.HostListener,args:["document:mousemove",["$event"]]}],onTouchEnd:[{type:e.HostListener,args:["document:touchend"]}],onTouchStart:[{type:e.HostListener,args:["touchstart",["$event"]]}],onTouchMove:[{type:e.HostListener,args:["document:touchmove",["$event"]]}]};var o=function(){function t(e,n,i,o){void 0===e&&(e=t.NONE),void 0===n&&(n=t.NONE),void 0===i&&(i=t.NONE),void 0===o&&(o=t.NONE),this.top=e,this.right=n,this.bottom=i,this.left=o}return t.prototype.getTop=function(t,e){return this.computeOffset(this.top,t,e)},t.prototype.getRight=function(t,e){return this.computeOffset(this.right,t,e)},t.prototype.getBottom=function(t,e){return this.computeOffset(this.bottom,t,e)},t.prototype.getLeft=function(t,e){return this.computeOffset(this.left,t,e)},t.prototype.computeOffset=function(e,n,i){var o=null;if(isNaN(+e))switch(e){case t.BORDER:o=0;break;case t.HALF_WIDTH:case t.HALF_WIDTH:o=this.computeHALF(n);break;case t.HANDLE_HEIGHT:o=this.computeHANDLE(n,i)}else o=+e;return o},t.prototype.computeHALF=function(t){return-t.getBoundingClientRect().width/2},t.prototype.computeHANDLE=function(t,e){if(!e)return 0;var n=t.getBoundingClientRect().height;return e.getBoundingClientRect().height-n},t}();o.NONE="none",o.BORDER="border",o.HALF_WIDTH="half",o.HANDLE_HEIGHT="handle";var s=function(){return function(){}}();s.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i]}]}],s.ctorParameters=function(){return[]},t.DragAndCheckModule=s,t.DragAndCheckDirective=i,t.Offsets=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-drag-and-check.umd.min.js.map
