{"version":3,"file":"ng2-drag-and-check.js","sources":["ts/ng2-drag-and-check.ts","ts/index.ts","ts/directive/drag-and-check.directive.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {DragAndCheckModule,DragAndCheckDirective,Offsets} from './index';\n","import { NgModule } from '@angular/core';\nimport { DragAndCheckDirective } from './directive/drag-and-check.directive';\n\nexport {DragAndCheckDirective,Offsets} from './directive/drag-and-check.directive';\nexport class DragAndCheckModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  declarations: [DragAndCheckDirective],\n  exports: [DragAndCheckDirective]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DragAndCheckModule_tsickle_Closure_declarations() {\n/** @type {?} */\nDragAndCheckModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDragAndCheckModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, OnInit, Output, Renderer } from '@angular/core';\nclass Position {\n/**\n * @param {?} x\n * @param {?} y\n */\nconstructor(public x: number,\npublic y: number) {\n  }\n}\n\nfunction Position_tsickle_Closure_declarations() {\n/** @type {?} */\nPosition.prototype.x;\n/** @type {?} */\nPosition.prototype.y;\n}\n\nexport class DragAndCheckDirective implements OnInit {\nprivate allowDrag: boolean = true;\nprivate moving: boolean = false;\nprivate original: Position = null;\nprivate oldTrans: Position = new Position(0, 0);\nprivate tempTrans: Position = new Position(0, 0);\nprivate currentTrans: Position = new Position(0, 0);\nprivate oldZIndex: string = '';\nprivate oldPosition: string = '';\n\n   started = new EventEmitter<any>();\n   stopped = new EventEmitter<any>();\n   edge = new EventEmitter<any>();\n\n   handle: HTMLElement;\n   bounds: HTMLElement;\n   allowedOffsets: Offsets = new Offsets();\n/**\n * @param {?} setting\n * @return {?}\n */\nset ngDraggable(setting: any) {\n    if (setting !== undefined && setting !== null && setting !== '') {\n      this.allowDrag = !!setting;\n\n      let /** @type {?} */ element = this.handle ? this.handle : this.el.nativeElement;\n\n      if (this.allowDrag) {\n        this.renderer.setElementClass(element, 'ng-draggable', true);\n      }\n      else {\n        this.renderer.setElementClass(element, 'ng-draggable', false);\n      }\n    }\n  }\n/**\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(private el: ElementRef,\nprivate renderer: Renderer) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    if (this.allowDrag) {\n      let /** @type {?} */ element = this.handle ? this.handle : this.el.nativeElement;\n      this.renderer.setElementClass(element, 'ng-draggable', true);\n    }\n  }\n/**\n * @param {?} x\n * @param {?} y\n * @return {?}\n */\nprivate getPosition(x: number, y: number) {\n    return new Position(x, y);\n  }\n/**\n * @param {?} x\n * @param {?} y\n * @return {?}\n */\npublic moveTo(x: number, y: number) {\n    if (this.original) {\n      let /** @type {?} */ element = this.el.nativeElement;\n      this.tempTrans.x = x - this.original.x;\n      this.tempTrans.y = y - this.original.y;\n      this.verifyMoveOnX();\n      this.verifyMoveOnY();\n      let /** @type {?} */ value = `translate(${this.tempTrans.x + this.oldTrans.x}px, ${this.tempTrans.y + this.oldTrans.y}px)`;\n      this.renderer.setElementStyle(element, 'transform', value);\n      this.renderer.setElementStyle(element, '-webkit-transform', value);\n      this.renderer.setElementStyle(element, '-ms-transform', value);\n      this.renderer.setElementStyle(element, '-moz-transform', value);\n      this.renderer.setElementStyle(element, '-o-transform', value);\n      this.edge.emit(this.boundsCheck());\n      this.currentTrans = this.getPosition(this.tempTrans.x, this.tempTrans.y);\n    }\n  }\n/**\n * @return {?}\n */\npublic verifyMoveOnX() {\n\n    let /** @type {?} */ boundaries = this.el.nativeElement.getBoundingClientRect();\n    let /** @type {?} */ horizontalMove = this.tempTrans.x - this.currentTrans.x;\n\n    let /** @type {?} */ allowedLeftOffset = this.allowedOffsets.getLeft(this.el.nativeElement, this.handle);\n    if (allowedLeftOffset != null &&\n      horizontalMove < 0 &&\n      boundaries.left + horizontalMove < allowedLeftOffset) {\n      this.tempTrans.x = this.currentTrans.x - (boundaries.left - allowedLeftOffset);\n    }\n    let /** @type {?} */ allowedRightOffset = this.allowedOffsets.getRight(this.el.nativeElement, this.handle);\n    let /** @type {?} */ windowWidth = document.documentElement.clientWidth;\n    if (allowedRightOffset != null &&\n      horizontalMove > 0 &&\n      boundaries.right + horizontalMove > windowWidth - allowedRightOffset) {\n      this.tempTrans.x = this.currentTrans.x + (windowWidth - allowedRightOffset - boundaries.right);\n    }\n  }\n/**\n * @return {?}\n */\npublic verifyMoveOnY() {\n    let /** @type {?} */ boundaries = this.el.nativeElement.getBoundingClientRect();\n    let /** @type {?} */ windowHeight = document.documentElement.clientHeight;\n    let /** @type {?} */ verticalMove = this.tempTrans.y - this.currentTrans.y;\n    let /** @type {?} */ allowedTopOffset = this.allowedOffsets.getTop(this.el.nativeElement, this.handle);\n\n    if (allowedTopOffset != null &&\n      verticalMove < 0 &&\n      boundaries.top + verticalMove < allowedTopOffset) {\n      this.tempTrans.y = this.currentTrans.y - (boundaries.top - allowedTopOffset);\n    }\n\n    let /** @type {?} */ allowedBottomOffset = this.allowedOffsets.getBottom(this.el.nativeElement, this.handle);\n    if (allowedBottomOffset != null &&\n      verticalMove > 0 &&\n      boundaries.bottom + verticalMove > windowHeight - allowedBottomOffset) {\n      this.tempTrans.y = this.currentTrans.y + (windowHeight - allowedBottomOffset - boundaries.bottom);\n    }\n  }\n/**\n * @return {?}\n */\npublic pickUp() {\n    // get old z-index and position:\n    this.oldZIndex = this.el.nativeElement.style.zIndex ? this.el.nativeElement.style.zIndex : '';\n    this.oldPosition = this.el.nativeElement.style.position ? this.el.nativeElement.style.position : '';\n    this.getPosition(0, 0);\n    if (window) {\n      this.oldZIndex = window.getComputedStyle(this.el.nativeElement, null).getPropertyValue('z-index');\n      this.oldPosition = window.getComputedStyle(this.el.nativeElement, null).getPropertyValue('position');\n    }\n\n    // setup default position:\n    let /** @type {?} */ position = 'relative';\n\n    // check if old position is draggable:\n    if (this.oldPosition && (\n        this.oldPosition === 'absolute' ||\n        this.oldPosition === 'fixed' ||\n        this.oldPosition === 'relative')) {\n      position = this.oldPosition;\n    }\n\n    this.renderer.setElementStyle(this.el.nativeElement, 'position', position);\n    this.renderer.setElementStyle(this.el.nativeElement, 'z-index', '99999');\n\n    if (!this.moving) {\n      this.started.emit(this.el.nativeElement);\n      this.moving = true;\n    }\n  }\n/**\n * @return {?}\n */\nprivate boundsCheck() {\n    if (!this.bounds) {\n      return {\n        'top': false,\n        'right': false,\n        'bottom': false,\n        'left': false\n      };\n    }\n    let /** @type {?} */ boundary = this.bounds.getBoundingClientRect();\n    let /** @type {?} */ elem = this.el.nativeElement.getBoundingClientRect();\n    return {\n      'top': boundary.top < elem.top,\n      'right': boundary.right > elem.right,\n      'bottom': boundary.bottom > elem.bottom,\n      'left': boundary.left < elem.left\n    };\n  }\n/**\n * @return {?}\n */\npublic putBack() {\n    if (this.oldZIndex) {\n      this.renderer.setElementStyle(this.el.nativeElement, 'z-index', this.oldZIndex);\n    } else {\n      this.el.nativeElement.style.removeProperty('z-index');\n    }\n\n    if (this.moving) {\n      this.stopped.emit(this.el.nativeElement);\n      this.edge.emit(this.boundsCheck());\n      this.moving = false;\n      this.oldTrans.x += this.tempTrans.x;\n      this.oldTrans.y += this.tempTrans.y;\n      this.tempTrans.x = this.tempTrans.y = 0;\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonMouseDown(event: any) {\n    // 1. skip right click;\n    // 2. if handle is set, the element can only be moved by handle\n    if (event.button == 2 || (this.handle !== undefined && event.target !== this.handle)) {\n      return;\n    }\n\n    this.original = this.getPosition(event.clientX, event.clientY);\n    this.pickUp();\n  }\n/**\n * @return {?}\n */\nonMouseUp() {\n    this.putBack();\n  }\n/**\n * @return {?}\n */\nonMouseLeave() {\n    this.putBack();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonMouseMove(event: any) {\n    if (this.moving && this.allowDrag) {\n      this.moveTo(event.clientX, event.clientY);\n    }\n  }\n/**\n * @return {?}\n */\nonTouchEnd() {\n    this.putBack();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonTouchStart(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.handle !== undefined && event.target !== this.handle) {\n      return;\n    }\n\n    this.original = this.getPosition(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n    this.pickUp();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonTouchMove(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (this.moving && this.allowDrag) {\n      this.moveTo(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ngDraggable]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'started': [{ type: Output },],\n'stopped': [{ type: Output },],\n'edge': [{ type: Output },],\n'handle': [{ type: Input },],\n'bounds': [{ type: Input },],\n'allowedOffsets': [{ type: Input },],\n'ngDraggable': [{ type: Input },],\n'onMouseDown': [{ type: HostListener, args: ['mousedown', ['$event'], ] },],\n'onMouseUp': [{ type: HostListener, args: ['document:mouseup', ] },],\n'onMouseLeave': [{ type: HostListener, args: ['document:mouseleave', ] },],\n'onMouseMove': [{ type: HostListener, args: ['document:mousemove', ['$event'], ] },],\n'onTouchEnd': [{ type: HostListener, args: ['document:touchend', ] },],\n'onTouchStart': [{ type: HostListener, args: ['touchstart', ['$event'], ] },],\n'onTouchMove': [{ type: HostListener, args: ['document:touchmove', ['$event'], ] },],\n};\n}\n\nfunction DragAndCheckDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDragAndCheckDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDragAndCheckDirective.ctorParameters;\n/** @type {?} */\nDragAndCheckDirective.propDecorators;\n/** @type {?} */\nDragAndCheckDirective.prototype.allowDrag;\n/** @type {?} */\nDragAndCheckDirective.prototype.moving;\n/** @type {?} */\nDragAndCheckDirective.prototype.original;\n/** @type {?} */\nDragAndCheckDirective.prototype.oldTrans;\n/** @type {?} */\nDragAndCheckDirective.prototype.tempTrans;\n/** @type {?} */\nDragAndCheckDirective.prototype.currentTrans;\n/** @type {?} */\nDragAndCheckDirective.prototype.oldZIndex;\n/** @type {?} */\nDragAndCheckDirective.prototype.oldPosition;\n/** @type {?} */\nDragAndCheckDirective.prototype.started;\n/** @type {?} */\nDragAndCheckDirective.prototype.stopped;\n/** @type {?} */\nDragAndCheckDirective.prototype.edge;\n/** @type {?} */\nDragAndCheckDirective.prototype.handle;\n/** @type {?} */\nDragAndCheckDirective.prototype.bounds;\n/** @type {?} */\nDragAndCheckDirective.prototype.allowedOffsets;\n/** @type {?} */\nDragAndCheckDirective.prototype.el;\n/** @type {?} */\nDragAndCheckDirective.prototype.renderer;\n}\n\nexport class Offsets {\n\n  static NONE: string = 'none';\n  static BORDER: string = 'border';\n  static HALF_WIDTH: string = 'half';\n  static HANDLE_HEIGHT: string = 'handle';\n/**\n * @param {?=} top\n * @param {?=} right\n * @param {?=} bottom\n * @param {?=} left\n */\nconstructor(private top: any = Offsets.NONE,\nprivate right: any = Offsets.NONE,\nprivate bottom: any = Offsets.NONE,\nprivate left: any = Offsets.NONE) {\n  }\n/**\n * @param {?} el\n * @param {?=} handle\n * @return {?}\n */\ngetTop(el: HTMLElement, handle?: HTMLElement): number {\n\n    return this.computeOffset(this.top, el,  handle);\n  }\n/**\n * @param {?} el\n * @param {?=} handle\n * @return {?}\n */\ngetRight(el: HTMLElement, handle?: HTMLElement): number {\n    return this.computeOffset(this.right, el,  handle);\n  }\n/**\n * @param {?} el\n * @param {?=} handle\n * @return {?}\n */\ngetBottom(el: HTMLElement, handle?: HTMLElement): number {\n    return this.computeOffset(this.bottom, el,  handle);\n  }\n/**\n * @param {?} el\n * @param {?=} handle\n * @return {?}\n */\ngetLeft(el: HTMLElement, handle?: HTMLElement): number {\n    return this.computeOffset(this.left, el,  handle);\n  }\n/**\n * @param {?} value\n * @param {?} el\n * @param {?} handle\n * @return {?}\n */\ncomputeOffset(value: any, el: HTMLElement, handle: HTMLElement): number {\n    let /** @type {?} */ result = null;\n    if (!isNaN(+value)) {\n      result = +value;\n    } else {\n\n      switch (value) {\n        case Offsets.BORDER: {\n          result = 0;\n          break;\n        }\n        case Offsets.HALF_WIDTH: {\n          result = this.computeHALF(el);\n          break;\n        }\n        case Offsets.HALF_WIDTH: {\n          result = this.computeHALF(el);\n          break;\n        }\n        case Offsets.HANDLE_HEIGHT: {\n          result = this.computeHANDLE(el, handle);\n          break;\n        }\n        default : {\n        }\n      }\n    }\n    return result;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nprivate computeHALF(el: HTMLElement): number {\n    return -el.getBoundingClientRect().width / 2;\n  }\n/**\n * @param {?} el\n * @param {?} handle\n * @return {?}\n */\nprivate computeHANDLE(el: HTMLElement, handle: HTMLElement): number {\n    if(!handle){\n      return 0;\n    }\n    let /** @type {?} */ contentHeight = el.getBoundingClientRect().height;\n    return handle.getBoundingClientRect().height - contentHeight;\n  }\n}\n\nfunction Offsets_tsickle_Closure_declarations() {\n/** @type {?} */\nOffsets.NONE;\n/** @type {?} */\nOffsets.BORDER;\n/** @type {?} */\nOffsets.HALF_WIDTH;\n/** @type {?} */\nOffsets.HANDLE_HEIGHT;\n/** @type {?} */\nOffsets.prototype.top;\n/** @type {?} */\nOffsets.prototype.right;\n/** @type {?} */\nOffsets.prototype.bottom;\n/** @type {?} */\nOffsets.prototype.left;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
