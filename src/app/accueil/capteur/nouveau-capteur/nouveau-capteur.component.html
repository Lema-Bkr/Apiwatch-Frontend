<div class="wrapper">
        <div class="sidebar" data-color="yellow" data-image="">
            <app-sidebar ></app-sidebar>
            <div class="sidebar-background" style="background-image: url(/assets/img/sidebar-5.jpg)"></div>
        </div>
    
        <div class="main-panel">
            <navbar-cmp (messageEvent)="receiveMessage($event)"></navbar-cmp>
            <router-outlet></router-outlet>
        

<div class="container-fluid" style="background-color: white; height:100%;">

   
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title text-center" id="exampleModalLabel"><h3>Déclaration de capteur</h3> </h5>
            
                </div>
                <div class="modal-body">
                        <form  [formGroup]="newCapteurForm" (ngSubmit)="createCapteur(newCapteurForm.value)">
                                <div class="form-group row">
                                    <div class="col-md-6" >
                                            <label for="recipient-name" class="col-form-label">Référence (*):</label>
                                            <input [(ngModel)]="reference" formControlName="reference" type="text" class="form-control" id="recipient-name">
                                            <div class="alert alert-danger" *ngIf="!newCapteurForm.controls['reference'].valid && newCapteurForm.controls['reference'].touched">
                                                    Veuillez saisir une reference
                                            </div>

                                    </div>
                                    <div class="col-md-6">
                                            <label for="recipient-name" class="col-form-label">Type :</label>
                                            <input [(ngModel)]="type" formControlName="type" type="text" class="form-control" id="recipient-name">
                                    </div>
                                
                                    </div>

                                
                                    <div class="form-group">
                                            <label for="message-text" class="col-form-label">Description :</label>
                                            <input [(ngModel)]="description"   formControlName="description" class="form-control" id="message-text">
                                    </div>

                                    <div class="form-group ">
                                            <div class="form-check">
                                                    <input class="form-check-input" (click)="selectRadioStock()" type="radio" formControlName="checkbox" name="checkbox"  [checked]="radioStock">
                                                    <label class="form-check-label" for="exampleRadios1" >
                                                            Stock
                                                    </label>
                                            
                                                    <input class="form-check-input" (click)="selectRadioRuche()" type="radio" formControlName="checkbox" name="checkbox" [checked]="radioRuche">
                                                    <label class="form-check-label" for="exampleRadios1">
                                                            Ruche
                                                    </label>
                                            </div>
                                    </div>

                                    <div *ngIf="radioRuche">
                                        <div class="form-group">
                                                <label for="recipient-name" class="col-form-label">Rucher :</label>
                                                <select  [(ngModel)]="selectedRucher"  formControlName="selectedRucher" (click)="onSelectRucher($event)" class="form-control " id="sel1">
                                                    <option  *ngFor="let rucher of ruchers" [value]="rucher.id" >
                                                        {{rucher.name}}
                                                    </option>
                                                </select>   
                                            
                                            <!-- 
                                                <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#newRucherModal" >Créer rucher</button>
                                                -->
                                        </div>
                                                                
                                        <div class="form-group ">
                                                    <label for="message-text" class="col-form-label">Affecter à :</label>
                                                    <select  [(ngModel)]="selectedRuche" formControlName="selectedRuche"  (click)="onSelectRuche($event)" class="form-control " id="sel1">
                                                        <option  *ngFor="let ruche of ruches" [value]="ruche.id" >
                                                            {{ruche.name}}
                                                        </option>
                                                    </select>   
                                                    <div class="alert alert-danger" *ngIf="!newCapteurForm.controls['reference'].valid && newCapteurForm.controls['reference'].untouched">
                                                            Veuillez choisir une ruche
                                                    </div>
            
                                        </div>
                                    </div>
                                    
                                <button type="submit" class="btn btn-primary" [disabled]="!newCapteurForm.valid"  > Ajouter Capteur</button>
                        </form>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="onCancelClicked()">Fermer</button>
                
                </div>
            </div>
            </div>      

</div>