<div class="wrapper">
  <div class="sidebar" data-color="blue" data-image="">
      <app-sidebar ></app-sidebar>
      <div class="sidebar-background" style="background-image: url(/assets/img/sidebar-5.jpg)"></div>
  </div>

  <navbar-cmp (messageEvent)="receiveMessage($event)"></navbar-cmp>
  <div class="main-panel">
      <router-outlet></router-outlet>
  
      
      <div class="container-fluid" style="background-color: white;">
            <div class="row content">
                <div id="cadre" [ngStyle]="{'background-image':'url('+rucherService.rucher.photo+')',
                                            'background-position' : 'center',
                                            'background-repeat' : 'no-repeat'}"
                                            ngfDrop
                                            [(validDrag)]    = "baseDropValid"
                                            [(file)]        = "photoApiary"
                                            class            = "my-drop-zone"
                                            [class.valid-drag]   = "baseDropValid"
                                            [(lastBaseUrl)]="rucherService.rucher.photo" >
                    <div
                        data-toggle="tooltip" data-placement="top" [title]="infoRuche"
                        *ngFor="let ruche of rucheService.ruches; let i = index" 
                        [style.left.%]="ruche.hivePosX"
                        [style.top.%]="ruche.hivePosY"
                        [id]="i" (mouseover)="onMouseover(ruche)" (dblclick)="onClick(ruche);" (stopped)="onDragEnd($event)" [allowedOffsets]="offset" ngDraggable [class]="dailyRecTh.getStatus(ruche.id)">
                    </div>
                </div>  
            </div>
      </div>
  </div>
</div>

<!--
    "{'background-image':'url('+rucherService.rucher.photo+')',
                        'background-position' : 'center',
                        'background-repeat' : 'no-repeat'}"
-->
  
<div *ngIf="photoApiary!=null" id="modal">
        <div class="modal-body">
                <p>Save background?</p>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="saveBackground();">Save changes</button>
                <button type="button" class="btn btn-secondary" (click)="cancelBackground();" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    
  </div>