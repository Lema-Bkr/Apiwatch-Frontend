<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" (click)="sidebarToggle()">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <ul class="nav navbar-nav navbar-left">
        <li>
          <div class="row">
            <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">
              <label>Apiary : </label>
            </div>
            <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">
              <select [(ngModel)]="rucherService.rucher" style="width: 100%" class="form-control"
                (change)="onSelectRucher()" id="select-Apiary">
                <option *ngFor="let rucher of rucherService.ruchers" [ngValue]="rucher">
                  {{rucher.name}}
                </option>
              </select>
            </div>
          </div>

        </li>
        <li>
          <button data-backdrop="false"  data-toggle="tooltip" data-html="true" title="New apiary" data-toggle="modal"
            data-target="#newRucherModal" class="btn btn-success btn-lg crud-apiary">
            <i class="fa fa-plus fa-2x"></i>
          </button>
          <button data-backdrop="false"  type="button" (click)="editRucherClicked()" class="crud btn btn-success btn-lg crud-apiary"
            data-toggle="modal" data-target="#editRucher">
            <i class="fa fa-edit fa-2x"></i>
          </button>
          <button  type="button" class="btn btn-warning btn-lg crud-apiary" mwlConfirmationPopover
            popoverTitle="Delete Apiary ?" placement="bottom" (confirm)="deleteRucher()">
            <i class="fa fa-times fa-2x"></i>
          </button>
        </li>
<!--         <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-globe"></i>
            <b class="caret"></b>
            <span class="notification hidden-sm hidden-xs">5</span>
            <p class="hidden-lg hidden-md"> 
              5 Notifications
              <b class="caret"></b>
            </p>
          </a>
          <ul class="dropdown-menu">
            <li><a href="#">Notification 1</a></li>
            <li><a href="#">Notification 2</a></li>
            <li><a href="#">Notification 3</a></li>
            <li><a href="#">Notification 4</a></li>
            <li><a href="#">Another notification</a></li>
          </ul>
        </li> -->
<!--         <li>
          <a href="#">
            <i class="fa fa-search"></i>
            <p class="hidden-lg hidden-md">Search</p>
          </a>
        </li> -->
      </ul>
    </div>
    <div class="collapse navbar-collapse">

      <ul class="nav navbar-nav navbar-right">
<!--         <li>
          <a href="#">
            <p>Account</p>
          </a>
        </li> -->
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <p>
              Account
              <b class="caret"></b>
            </p>
          </a>
          <ul class="dropdown-menu">
            <li><a>Another action</a></li>
            <li><a>Preference</a></li>
            <li><a>Remarque</a></li>
            <li><a>Change password</a></li>
            <li class="divider"></li>
            <li><a href="#" (click)="logout()">Logout</a></li>
          </ul>
        </li>
<!--         <li>
          <a href="#">
            <p>Log out</p>
          </a>
        </li> -->
        <li class="separator hidden-lg hidden-md"></li>
      </ul>
    </div>
  </div>
</nav>



<div class="modal fade" id="newRucherModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          <h4 class="text-center">New Apiary</h4>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="rucherForm">
          <div class="form-group">
            <label for="nom" class="col-form-label">Name</label>
            <input formControlName="name" type="text" class="form-control" id="nom">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['name'].valid && rucherForm.controls['name'].touched">
              select a name from 1 to 20 chars
            </div>
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Description</label>
            <textarea formControlName="description" class="form-control" id="message-text"></textarea>
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['description'].valid && rucherForm.controls['description'].touched">
              description can be 40 chars max
            </div>
          </div>
          <div class="form-group">
            <label for="ville" class="col-form-label">City</label>
            <input formControlName="ville" type="text" class="form-control" id="ville">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['ville'].valid && rucherForm.controls['ville'].touched">
              select city name
            </div>
          </div>
          <div class="form-group">
            <label for="codePostal" class="col-form-label">Zip code</label>
            <input formControlName="codePostal" type="text" class="form-control" id="codePostal">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['codePostal'].valid && rucherForm.controls['codePostal'].touched">
              select zip code
            </div>
          </div>
          <!--
                <div class="form-group">
                  <label for="">Image</label>
                  <input name="image" (change)="onPictureLoad($event)" type="file">
               </div>-->

          <label>Select picture from Apiary :</label>
          <input style="display: none" type="file" ngf [(file)]="photoApiary" [(lastBaseUrl)]="newApiary.photo"
            #fileInput>
          <button (click)="fileInput.click()" class="btn btn-large btn-block btn-info">Select File</button>
          <div id="upload-group">
            <div ngfDrop [(validDrag)]="baseDropValid" [(file)]="photoApiary" class="well my-drop-zone"
              [(lastBaseUrl)]="newApiary.photo" [class.valid-drag]="baseDropValid">
              Base drop zone
            </div>
            <div [ngfBackground]="photoApiary"
              style="background-size:cover;background-repeat:no-repeat; background-position:center; min-height:20px;">
            </div>
          </div>

          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" data-dismiss="modal" value="New Apiary"
              (click)="apiarySubmit()" [disabled]="!rucherForm.valid">New Apiary</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="initForm()">Close</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!--Modal modification rucher-->

<div class="modal fade" id="editRucher" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          <h4 class="text-center">Edit Apiary</h4>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="rucherForm">
          <div class="form-group">
            <label for="nom" class="col-form-label">Name</label>
            <input formControlName="name" type="text" class="form-control" id="nom">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['name'].valid && rucherForm.controls['name'].touched">
              select a name from 1 to 20 chars
            </div>
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Description</label>
            <textarea formControlName="description" class="form-control" id="message-text"></textarea>
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['description'].valid && rucherForm.controls['description'].touched">
              description can be 40 chars max
            </div>
          </div>
          <div class="form-group">
            <label for="ville" class="col-form-label">City</label>
            <input formControlName="ville" type="text" class="form-control" id="ville">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['ville'].valid && rucherForm.controls['ville'].touched">
              select city name
            </div>
          </div>
          <div class="form-group">
            <label for="codePostal" class="col-form-label">Zip code</label>
            <input formControlName="codePostal" type="text" class="form-control" id="codePostal">
            <div class="alert alert-danger"
              *ngIf="!rucherForm.controls['codePostal'].valid && rucherForm.controls['codePostal'].touched">
              select zip code
            </div>
          </div>
          <!--
                <div class="form-group">
                  <label for="">Image</label>
                  <input name="image" (change)="onPictureLoad($event)" type="file">
               </div>-->
          <!--
               <input
                  style="display: none"
                  type="file"
                  ngf [(file)]="photoApiary" 
                  #fileInput>
                <button (click)="fileInput.click()" class="btn btn-large btn-block btn-info">Select File</button>
               <div id="upload-group"> 
                 <div
                 ngfDrop
                 [(validDrag)] = "baseDropValid"
                 [(file)]= "photoApiary"
                 class = "well my-drop-zone"
                 [(lastBaseUrl)] = "rucherService.rucher.photo"
                 [class.valid-drag] = "baseDropValid"
                >
                 Base drop zone
                 </div>
                <div [ngfBackground]="photoApiary"
                  style="background-size:cover;background-repeat:no-repeat; background-position:center; min-height:20px;">
                </div>
               </div>-->

          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" data-dismiss="modal" value="Save Apiary"
              (click)="onEditerRucher()" [disabled]="!rucherForm.valid">Save Apiary</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="initForm()">Close</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>